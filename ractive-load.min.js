!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("Ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b=function(){var a,b=function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c},c=function(b){function c(a){return a.f}var d=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return function(e){var f,g,h,i,j,k,l,m,n,o;for(f=a.parse(e,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),g=[],i=[],k=[],m=[],n=f.length;n--;)o=f[n],o&&7===o.t&&("link"===o.e&&o.a&&"ractive"===o.a.rel[0]&&g.push(f.splice(n,1)[0]),"script"!==o.e||o.a&&o.a.type&&"text/javascript"!==o.a.type[0]||i.push(f.splice(n,1)[0]),"style"!==o.e||o.a&&o.a.type&&"text/css"!==o.a.type[0]||k.push(f.splice(n,1)[0]));for(h=g.map(function(a){var c,d;if(c=a.a.href&&a.a.href[0],d=a.a.name&&a.a.name[0]||b(c),"string"!=typeof d)throw new Error("Error parsing link tag");return{name:d,href:c}}),j=i.map(c).join(";");l=d.exec(j);)m.push(l[1]||l[2]);return{template:f,imports:h,script:j,css:k.map(c).join(" "),modules:m}}}(b),d=function(b){return function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;if(d=d||{},g=d.url||"",i=d.loadImport,k=d.loadModule,o=d.onerror,f=b(c),h=function(){var b,c,h,i,k,l;if(b={template:f.template,css:f.css,components:j},f.script){try{c=new Function("component","require","Ractive",f.script+"\n//# sourceURL="+g.substr(g.lastIndexOf("/")+1))}catch(m){if(p="Error creating function from component script: "+m.message||m,!o)throw new Error(p);o(p)}try{c(h={},d.require,a)}catch(m){if(p="Error executing component script: "+m.message||m,!o)throw new Error(p);o(p)}if(i=h.exports,"object"==typeof i)for(l in i)i.hasOwnProperty(l)&&(b[l]=i[l])}k=a.extend(b),e(k)},m=f.imports.length+(k?f.modules.length:0)){if(n=function(){--m||(q?h():setTimeout(h,0))},f.imports.length){if(!i)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+f.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');j={},f.imports.forEach(function(a){i(a.name,a.href,g,function(b){j[a.name]=b,n()})})}k&&f.modules.length&&(l={},f.modules.forEach(function(a){k(a,a,g,function(b){l[a]=b,n()})}))}else setTimeout(h,0);q=!0}}(c),e=function(a,b){var c,d,e;if("."!==a.charAt(0))return a;for(c=(b||"").split("/"),d=a.split("/"),c.pop();e=d.shift();)".."===e?c.pop():"."!==e&&c.push(e);return c.join("/")},f=function(b,c,d,e){return{init:function(b){a=b},parse:b,make:c,resolve:d,getName:e}}(c,d,e,b);return f}(),c=function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})},d=function(b,c){function d(d,h){var i,j;return j=b.resolve(d,h),g[j]||(i=c(j).then(function(c){return new a.Promise(function(a,d){b.make(c,{url:j,loadImport:e,require:f,onerror:d},a)})}),g[j]=i),g[j]}function e(a,b,c,e){d(b,c).then(e)}function f(b){var c,d;if(c=a.lib[b]||window[b],!c)throw d=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?"."+b:'["'+b+'"]',new Error('Ractive.load() error: Could not find dependency "'+b+'". It should be exposed as Ractive.lib'+d+" or window"+d);return c}var g={};return d}(b,c),e=function(b,c){function d(a){return a.getAttribute("name")||b.getName(a.getAttribute("href"))}function e(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}return function(b){var f=new a.Promise(function(f,g){var h,i;h=e(document.querySelectorAll('link[rel="ractive"]')),i=h.length,h.forEach(function(e){var h=d(e);c(e.getAttribute("href"),b).then(function(b){a.components[h]=b,--i||f()},g)})});return f}}(b,d),f=function(b){return function(c,d){var e=new a.Promise(function(a,e){var f,g,h=0,i={};g=function(f){var g=c[f];b(g,d).then(function(b){i[f]=b,--h||a(i)},e)};for(f in c)c.hasOwnProperty(f)&&(h+=1,g(f))});return e}}(d),g=function(b,c,d,e){b.init(a);var f=function g(a){var b=g.baseUrl;return a?"object"==typeof a?e(a,b):d(a,b):c(b)};return f.baseUrl="",f}(b,e,d,f);return a.lib=a.lib||{},a.load=g,g});